{"ast":null,"code":"function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nimport * as L from \"leaflet\";\nimport MapController from \"src/decidim/map/controller\";\nvar openLink = window.open;\nvar MapStaticController = /*#__PURE__*/function (_MapController) {\n  function MapStaticController() {\n    _classCallCheck(this, MapStaticController);\n    return _callSuper(this, MapStaticController, arguments);\n  }\n  _inherits(MapStaticController, _MapController);\n  return _createClass(MapStaticController, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n      this.map.removeControl(this.map.zoomControl);\n      this.map.dragging.disable();\n      this.map.touchZoom.disable();\n      this.map.doubleClickZoom.disable();\n      this.map.scrollWheelZoom.disable();\n      this.map.boxZoom.disable();\n      this.map.keyboard.disable();\n      if (this.map.tap) {\n        this.map.tap.disable();\n      }\n      if (this.config.zoom) {\n        this.map.setZoom(this.config.zoom);\n      } else {\n        this.map.setZoom(15);\n      }\n      if (this.config.latitude && this.config.longitude) {\n        var coordinates = [this.config.latitude, this.config.longitude];\n        this.map.panTo(coordinates);\n        var marker = L.marker(coordinates, {\n          icon: this.createIcon(),\n          keyboard: true,\n          title: this.config.title\n        }).addTo(this.map);\n        marker._icon.removeAttribute(\"tabindex\");\n      }\n      if (this.config.link) {\n        this.map._container.addEventListener(\"click\", function (ev) {\n          ev.preventDefault();\n          _this.map._container.focus();\n          openLink(_this.config.link, \"_blank\");\n        });\n      }\n    }\n  }]);\n}(MapController);\nexport { MapStaticController as default };","map":{"version":3,"names":["L","MapController","openLink","window","open","MapStaticController","_MapController","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","start","_this","map","removeControl","zoomControl","dragging","disable","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tap","config","zoom","setZoom","latitude","longitude","coordinates","panTo","marker","icon","createIcon","title","addTo","_icon","removeAttribute","link","_container","addEventListener","ev","preventDefault","focus","default"],"sources":["/home/daniele/decidim_idra/app/packs/src/decidim/map/controller/static.js"],"sourcesContent":["import * as L from \"leaflet\";\nimport MapController from \"src/decidim/map/controller\"\n\nconst openLink = window.open;\n\nexport default class MapStaticController extends MapController {\n  start() {\n    this.map.removeControl(this.map.zoomControl);\n    this.map.dragging.disable();\n    this.map.touchZoom.disable();\n    this.map.doubleClickZoom.disable();\n    this.map.scrollWheelZoom.disable();\n    this.map.boxZoom.disable();\n    this.map.keyboard.disable();\n    if (this.map.tap) {\n      this.map.tap.disable();\n    }\n\n    if (this.config.zoom) {\n      this.map.setZoom(this.config.zoom);\n    } else {\n      this.map.setZoom(15);\n    }\n\n    if (this.config.latitude && this.config.longitude) {\n      const coordinates = [this.config.latitude, this.config.longitude];\n\n      this.map.panTo(coordinates);\n      const marker = L.marker(coordinates, {\n        icon: this.createIcon(),\n        keyboard: true,\n        title: this.config.title\n      }).addTo(this.map);\n      marker._icon.removeAttribute(\"tabindex\");\n    }\n\n    if (this.config.link) {\n      this.map._container.addEventListener(\"click\", (ev) => {\n        ev.preventDefault();\n        this.map._container.focus();\n        openLink(this.config.link, \"_blank\");\n      });\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,CAAC,MAAM,SAAS;AAC5B,OAAOC,aAAa,MAAM,4BAA4B;AAEtD,IAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI;AAAC,IAERC,mBAAmB,0BAAAC,cAAA;EAAA,SAAAD,oBAAA;IAAAE,eAAA,OAAAF,mBAAA;IAAA,OAAAG,UAAA,OAAAH,mBAAA,EAAAI,SAAA;EAAA;EAAAC,SAAA,CAAAL,mBAAA,EAAAC,cAAA;EAAA,OAAAK,YAAA,CAAAN,mBAAA;IAAAO,GAAA;IAAAC,KAAA,EACtC,SAAAC,MAAA,EAAQ;MAAA,IAAAC,KAAA;MACN,IAAI,CAACC,GAAG,CAACC,aAAa,CAAC,IAAI,CAACD,GAAG,CAACE,WAAW,CAAC;MAC5C,IAAI,CAACF,GAAG,CAACG,QAAQ,CAACC,OAAO,CAAC,CAAC;MAC3B,IAAI,CAACJ,GAAG,CAACK,SAAS,CAACD,OAAO,CAAC,CAAC;MAC5B,IAAI,CAACJ,GAAG,CAACM,eAAe,CAACF,OAAO,CAAC,CAAC;MAClC,IAAI,CAACJ,GAAG,CAACO,eAAe,CAACH,OAAO,CAAC,CAAC;MAClC,IAAI,CAACJ,GAAG,CAACQ,OAAO,CAACJ,OAAO,CAAC,CAAC;MAC1B,IAAI,CAACJ,GAAG,CAACS,QAAQ,CAACL,OAAO,CAAC,CAAC;MAC3B,IAAI,IAAI,CAACJ,GAAG,CAACU,GAAG,EAAE;QAChB,IAAI,CAACV,GAAG,CAACU,GAAG,CAACN,OAAO,CAAC,CAAC;MACxB;MAEA,IAAI,IAAI,CAACO,MAAM,CAACC,IAAI,EAAE;QACpB,IAAI,CAACZ,GAAG,CAACa,OAAO,CAAC,IAAI,CAACF,MAAM,CAACC,IAAI,CAAC;MACpC,CAAC,MAAM;QACL,IAAI,CAACZ,GAAG,CAACa,OAAO,CAAC,EAAE,CAAC;MACtB;MAEA,IAAI,IAAI,CAACF,MAAM,CAACG,QAAQ,IAAI,IAAI,CAACH,MAAM,CAACI,SAAS,EAAE;QACjD,IAAMC,WAAW,GAAG,CAAC,IAAI,CAACL,MAAM,CAACG,QAAQ,EAAE,IAAI,CAACH,MAAM,CAACI,SAAS,CAAC;QAEjE,IAAI,CAACf,GAAG,CAACiB,KAAK,CAACD,WAAW,CAAC;QAC3B,IAAME,MAAM,GAAGlC,CAAC,CAACkC,MAAM,CAACF,WAAW,EAAE;UACnCG,IAAI,EAAE,IAAI,CAACC,UAAU,CAAC,CAAC;UACvBX,QAAQ,EAAE,IAAI;UACdY,KAAK,EAAE,IAAI,CAACV,MAAM,CAACU;QACrB,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAACtB,GAAG,CAAC;QAClBkB,MAAM,CAACK,KAAK,CAACC,eAAe,CAAC,UAAU,CAAC;MAC1C;MAEA,IAAI,IAAI,CAACb,MAAM,CAACc,IAAI,EAAE;QACpB,IAAI,CAACzB,GAAG,CAAC0B,UAAU,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAACC,EAAE,EAAK;UACpDA,EAAE,CAACC,cAAc,CAAC,CAAC;UACnB9B,KAAI,CAACC,GAAG,CAAC0B,UAAU,CAACI,KAAK,CAAC,CAAC;UAC3B5C,QAAQ,CAACa,KAAI,CAACY,MAAM,CAACc,IAAI,EAAE,QAAQ,CAAC;QACtC,CAAC,CAAC;MACJ;IACF;EAAC;AAAA,EAtC8CxC,aAAa;AAAA,SAAzCI,mBAAmB,IAAA0C,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}