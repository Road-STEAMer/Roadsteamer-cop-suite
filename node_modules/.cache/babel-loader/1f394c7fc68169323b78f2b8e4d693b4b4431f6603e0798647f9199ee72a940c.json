{"ast":null,"code":"function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nvar _excluded = [\"title\"];\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], t.indexOf(o) >= 0 || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.indexOf(n) >= 0) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nimport { imageCache, staticResourceCache, offlineFallback } from \"workbox-recipes\";\nimport { registerRoute } from \"workbox-routing\";\nimport { NetworkFirst, NetworkOnly } from \"workbox-strategies\";\nimport { CacheableResponsePlugin } from \"workbox-cacheable-response\";\nimport { ExpirationPlugin } from \"workbox-expiration\";\n\n// https://developers.google.com/web/tools/workbox/guides/troubleshoot-and-debug#debugging_workbox\nself.__WB_DISABLE_DEV_LOGS = true;\n\n/**\n * This is a workaround to bypass a webpack compilation error\n *\n * The InjectManifest function requires the __WB_MANIFEST somewhere in this file,\n * however, we cannot add precacheAndRoute as the issue suggests,\n * as the other workbox-recipes won't work properly\n *\n * See more: https://github.com/GoogleChrome/workbox/issues/2519#issuecomment-634164566\n */\n// eslint-disable-next-line no-unused-vars\nvar dummy = self.__WB_MANIFEST;\nself.addEventListener(\"push\", function (event) {\n  var _event$data$json = event.data.json(),\n    title = _event$data$json.title,\n    opts = _objectWithoutProperties(_event$data$json, _excluded);\n  event.waitUntil(self.registration.showNotification(title, _objectSpread({}, opts)));\n});\n\n// Event handler for click on the notification event\nself.addEventListener(\"notificationclick\", function (event) {\n  event.notification.close();\n  // Get all the Window clients\n  event.waitUntil(self.clients.matchAll({\n    type: \"window\"\n  }).then(function (clientsArr) {\n    var windowToFocus = clientsArr.find(function (windowClient) {\n      return windowClient.url === event.notification.data.url;\n    });\n    if (windowToFocus) {\n      // If a Window tab matching the targeted URL already exists, focus that\n      windowToFocus.focus();\n    } else {\n      // Otherwise, open a new tab to the applicable URL and focus it\n      self.clients.openWindow(event.notification.data.url).then(function (windowClient) {\n        return windowClient && windowClient.focus();\n      });\n    }\n  }));\n});\n\n// avoid caching admin or users paths\nregisterRoute(function (_ref) {\n  var url = _ref.url;\n  return [\"/admin/\", \"/users/\"].some(function (path) {\n    return url.pathname.startsWith(path);\n  });\n}, new NetworkOnly());\n\n// https://developers.google.com/web/tools/workbox/modules/workbox-recipes#pattern_3\nregisterRoute(function (_ref2) {\n  var request = _ref2.request;\n  return request.mode === \"navigate\";\n}, new NetworkFirst({\n  networkTimeoutSeconds: 3,\n  cacheName: \"pages\",\n  plugins: [new CacheableResponsePlugin({\n    statuses: [0, 200]\n  }), new ExpirationPlugin({\n    maxAgeSeconds: 60 * 60\n  })]\n}));\n\n// common recipes\nstaticResourceCache();\nimageCache();\nofflineFallback({\n  pageFallback: \"/offline\"\n});","map":{"version":3,"names":["imageCache","staticResourceCache","offlineFallback","registerRoute","NetworkFirst","NetworkOnly","CacheableResponsePlugin","ExpirationPlugin","self","__WB_DISABLE_DEV_LOGS","dummy","__WB_MANIFEST","addEventListener","event","_event$data$json","data","json","title","opts","_objectWithoutProperties","_excluded","waitUntil","registration","showNotification","_objectSpread","notification","close","clients","matchAll","type","then","clientsArr","windowToFocus","find","windowClient","url","focus","openWindow","_ref","some","path","pathname","startsWith","_ref2","request","mode","networkTimeoutSeconds","cacheName","plugins","statuses","maxAgeSeconds","pageFallback"],"sources":["/home/daniele/decidim_idra/app/packs/src/decidim/sw/sw.js"],"sourcesContent":["import {\n  imageCache,\n  staticResourceCache,\n  offlineFallback\n} from \"workbox-recipes\";\nimport { registerRoute } from \"workbox-routing\";\nimport { NetworkFirst, NetworkOnly } from \"workbox-strategies\";\nimport { CacheableResponsePlugin } from \"workbox-cacheable-response\";\nimport { ExpirationPlugin } from \"workbox-expiration\";\n\n\n// https://developers.google.com/web/tools/workbox/guides/troubleshoot-and-debug#debugging_workbox\nself.__WB_DISABLE_DEV_LOGS = true\n\n/**\n * This is a workaround to bypass a webpack compilation error\n *\n * The InjectManifest function requires the __WB_MANIFEST somewhere in this file,\n * however, we cannot add precacheAndRoute as the issue suggests,\n * as the other workbox-recipes won't work properly\n *\n * See more: https://github.com/GoogleChrome/workbox/issues/2519#issuecomment-634164566\n */\n// eslint-disable-next-line no-unused-vars\nconst dummy = self.__WB_MANIFEST;\n\nself.addEventListener(\"push\", (event) => {\n  const { title, ...opts } = event.data.json();\n  event.waitUntil(self.registration.showNotification(title, { ...opts }));\n});\n\n// Event handler for click on the notification event\nself.addEventListener(\"notificationclick\", (event) => {\n  event.notification.close();\n  // Get all the Window clients\n  event.waitUntil(\n    self.clients.matchAll({ type: \"window\" }).then((clientsArr) => {\n      const windowToFocus = clientsArr.find((windowClient) => windowClient.url === event.notification.data.url);\n      if (windowToFocus) {\n        // If a Window tab matching the targeted URL already exists, focus that\n        windowToFocus.focus()\n      } else {\n        // Otherwise, open a new tab to the applicable URL and focus it\n        self.clients.\n          openWindow(event.notification.data.url).\n          then((windowClient) => windowClient && windowClient.focus());\n      }\n    })\n  );\n});\n\n// avoid caching admin or users paths\nregisterRoute(\n  ({ url }) => [\"/admin/\", \"/users/\"].some((path) => url.pathname.startsWith(path)),\n  new NetworkOnly()\n);\n\n// https://developers.google.com/web/tools/workbox/modules/workbox-recipes#pattern_3\nregisterRoute(\n  ({ request }) => request.mode === \"navigate\",\n  new NetworkFirst({\n    networkTimeoutSeconds: 3,\n    cacheName: \"pages\",\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200]\n      }),\n      new ExpirationPlugin({\n        maxAgeSeconds: 60 * 60\n      })\n    ]\n  }),\n);\n\n// common recipes\nstaticResourceCache();\n\nimageCache();\n\nofflineFallback({ pageFallback: \"/offline\" });\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}