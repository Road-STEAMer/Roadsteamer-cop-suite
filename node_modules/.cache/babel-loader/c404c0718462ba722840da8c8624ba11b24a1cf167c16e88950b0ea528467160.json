{"ast":null,"code":"import AwesomeMap from \"src/decidim/decidim_awesome/awesome_map/awesome_map\";\n$(function () {\n  var sanitizeCenter = function sanitizeCenter(string) {\n    if (string) {\n      var parts = string.split(\",\");\n      if (parts.length >= 2) {\n        var lat = parseFloat(parts[0]);\n        var lng = parseFloat(parts[1]);\n        if (lat && lng) {\n          return [lat, lng];\n        }\n      }\n    }\n    return null;\n  };\n  var config = {\n    length: $(\"#awesome-map\").data(\"truncate\") || 254,\n    center: sanitizeCenter($(\"#awesome-map\").data(\"map-center\")),\n    zoom: $(\"#awesome-map\").data(\"map-zoom\"),\n    menu: {\n      amendments: $(\"#awesome-map\").data(\"menu-amendments\"),\n      meetings: $(\"#awesome-map\").data(\"menu-meetings\"),\n      categories: $(\"#awesome-map\").data(\"menu-categories\"),\n      hashtags: $(\"#awesome-map\").data(\"menu-hashtags\"),\n      mergeComponents: $(\"#awesome-map\").data(\"menu-merge-components\")\n    },\n    show: {\n      withdrawn: $(\"#awesome-map\").data(\"show-withdrawn\"),\n      accepted: $(\"#awesome-map\").data(\"show-accepted\"),\n      evaluating: $(\"#awesome-map\").data(\"show-evaluating\"),\n      notAnswered: $(\"#awesome-map\").data(\"show-not-answered\"),\n      rejected: $(\"#awesome-map\").data(\"show-rejected\")\n    },\n    hideControls: $(\"#awesome-map\").data(\"hide-controls\"),\n    collapsedMenu: $(\"#awesome-map\").data(\"collapsed\"),\n    components: $(\"#awesome-map\").data(\"components\")\n  };\n\n  // build awesome map (if exist)\n  $(\"#awesome-map .google-map\").on(\"ready.decidim\", function (evt, map) {\n    // bindPopup doesn't work for some unknown cause and these handler neither so we're cancelling them\n    map.off(\"popupopen\");\n    map.off(\"popupclose\");\n\n    // console.log(\"ready map\", map);\n\n    window.AwesomeMap = new AwesomeMap(map, config);\n    window.AwesomeMap.loadControllers();\n  });\n});","map":{"version":3,"names":["AwesomeMap","$","sanitizeCenter","string","parts","split","length","lat","parseFloat","lng","config","data","center","zoom","menu","amendments","meetings","categories","hashtags","mergeComponents","show","withdrawn","accepted","evaluating","notAnswered","rejected","hideControls","collapsedMenu","components","on","evt","map","off","window","loadControllers"],"sources":["/home/daniele/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-decidim_awesome-0.10.2/app/packs/src/decidim/decidim_awesome/awesome_map/load_map.js"],"sourcesContent":["import AwesomeMap from \"src/decidim/decidim_awesome/awesome_map/awesome_map\"\n\n$(() => {\n  const sanitizeCenter = (string) => {\n    if (string) {\n      const parts = string.split(\",\")\n      if (parts.length >= 2) {\n        const lat = parseFloat(parts[0]);\n        const lng = parseFloat(parts[1]);\n        if (lat && lng) {\n          return [lat, lng];\n        }\n      }\n    }\n    return null;\n  };\n\n  const config = {\n    length: $(\"#awesome-map\").data(\"truncate\") || 254,\n    center: sanitizeCenter($(\"#awesome-map\").data(\"map-center\")),\n    zoom: $(\"#awesome-map\").data(\"map-zoom\"),    \n    menu: {\n      amendments: $(\"#awesome-map\").data(\"menu-amendments\"),\n      meetings: $(\"#awesome-map\").data(\"menu-meetings\"),\n      categories: $(\"#awesome-map\").data(\"menu-categories\"),\n      hashtags: $(\"#awesome-map\").data(\"menu-hashtags\"),\n      mergeComponents: $(\"#awesome-map\").data(\"menu-merge-components\")\n    },\n    show: {\n      withdrawn: $(\"#awesome-map\").data(\"show-withdrawn\"),\n      accepted: $(\"#awesome-map\").data(\"show-accepted\"),\n      evaluating: $(\"#awesome-map\").data(\"show-evaluating\"),\n      notAnswered: $(\"#awesome-map\").data(\"show-not-answered\"),\n      rejected: $(\"#awesome-map\").data(\"show-rejected\")\n    },\n    hideControls: $(\"#awesome-map\").data(\"hide-controls\"),\n    collapsedMenu: $(\"#awesome-map\").data(\"collapsed\"),\n    components: $(\"#awesome-map\").data(\"components\")\n  };\n\n  // build awesome map (if exist)\n  $(\"#awesome-map .google-map\").on(\"ready.decidim\", (evt, map) => {\n    // bindPopup doesn't work for some unknown cause and these handler neither so we're cancelling them\n    map.off(\"popupopen\");\n    map.off(\"popupclose\");\n\n    // console.log(\"ready map\", map);\n\n    window.AwesomeMap = new AwesomeMap(map, config);\n    window.AwesomeMap.loadControllers();\n  });\n});\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,qDAAqD;AAE5EC,CAAC,CAAC,YAAM;EACN,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,MAAM,EAAK;IACjC,IAAIA,MAAM,EAAE;MACV,IAAMC,KAAK,GAAGD,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC;MAC/B,IAAID,KAAK,CAACE,MAAM,IAAI,CAAC,EAAE;QACrB,IAAMC,GAAG,GAAGC,UAAU,CAACJ,KAAK,CAAC,CAAC,CAAC,CAAC;QAChC,IAAMK,GAAG,GAAGD,UAAU,CAACJ,KAAK,CAAC,CAAC,CAAC,CAAC;QAChC,IAAIG,GAAG,IAAIE,GAAG,EAAE;UACd,OAAO,CAACF,GAAG,EAAEE,GAAG,CAAC;QACnB;MACF;IACF;IACA,OAAO,IAAI;EACb,CAAC;EAED,IAAMC,MAAM,GAAG;IACbJ,MAAM,EAAEL,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG;IACjDC,MAAM,EAAEV,cAAc,CAACD,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,YAAY,CAAC,CAAC;IAC5DE,IAAI,EAAEZ,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,UAAU,CAAC;IACxCG,IAAI,EAAE;MACJC,UAAU,EAAEd,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,iBAAiB,CAAC;MACrDK,QAAQ,EAAEf,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,eAAe,CAAC;MACjDM,UAAU,EAAEhB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,iBAAiB,CAAC;MACrDO,QAAQ,EAAEjB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,eAAe,CAAC;MACjDQ,eAAe,EAAElB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,uBAAuB;IACjE,CAAC;IACDS,IAAI,EAAE;MACJC,SAAS,EAAEpB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,gBAAgB,CAAC;MACnDW,QAAQ,EAAErB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,eAAe,CAAC;MACjDY,UAAU,EAAEtB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,iBAAiB,CAAC;MACrDa,WAAW,EAAEvB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,mBAAmB,CAAC;MACxDc,QAAQ,EAAExB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,eAAe;IAClD,CAAC;IACDe,YAAY,EAAEzB,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,eAAe,CAAC;IACrDgB,aAAa,EAAE1B,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,WAAW,CAAC;IAClDiB,UAAU,EAAE3B,CAAC,CAAC,cAAc,CAAC,CAACU,IAAI,CAAC,YAAY;EACjD,CAAC;;EAED;EACAV,CAAC,CAAC,0BAA0B,CAAC,CAAC4B,EAAE,CAAC,eAAe,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;IAC9D;IACAA,GAAG,CAACC,GAAG,CAAC,WAAW,CAAC;IACpBD,GAAG,CAACC,GAAG,CAAC,YAAY,CAAC;;IAErB;;IAEAC,MAAM,CAACjC,UAAU,GAAG,IAAIA,UAAU,CAAC+B,GAAG,EAAErB,MAAM,CAAC;IAC/CuB,MAAM,CAACjC,UAAU,CAACkC,eAAe,CAAC,CAAC;EACrC,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}