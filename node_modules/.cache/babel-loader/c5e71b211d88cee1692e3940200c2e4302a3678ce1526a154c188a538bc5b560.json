{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nimport Dialog from \"a11y-dialog-component\";\nimport { getDictionary } from \"src/decidim/i18n\";\nimport { uniqueId } from \"src/decidim/editor/common/helpers\";\nvar InputDialog = /*#__PURE__*/function () {\n  function InputDialog(editor, _ref) {\n    var _this = this;\n    var inputs = _ref.inputs;\n    _classCallCheck(this, InputDialog);\n    this.editor = editor;\n    // The legacy design should not have any elements on the page with the\n    // `data-dialog` attribute.\n    this.legacyDesign = !document.querySelector(\"[data-dialog]\");\n    var inputId = uniqueId(\"inputdialog\");\n    this.element = document.createElement(\"div\");\n    if (this.legacyDesign) {\n      this.element.classList.add(\"reveal\");\n      this.element.setAttribute(\"data-reveal\", \"\");\n    } else {\n      this.element.dataset.dialog = \"\".concat(Math.random().toString(36).slice(2));\n    }\n    var inputsHTML = \"\";\n    Object.keys(inputs).forEach(function (name) {\n      var input = inputs[name];\n      var inputHTML = \"\";\n      if (input.type === \"select\") {\n        var optionsHTML = input.options.map(function (opt) {\n          return \"<option value=\\\"\".concat(opt.value, \"\\\">\").concat(opt.label, \"</option>\");\n        });\n        inputHTML = \"<select id=\\\"\".concat(inputId, \"-\").concat(name, \"\\\">\").concat(optionsHTML, \"</select>\");\n      } else {\n        inputHTML = \"<input id=\\\"\".concat(inputId, \"-\").concat(name, \"\\\" type=\\\"\").concat(input.type || \"text\", \"\\\">\");\n      }\n      inputsHTML += \"\\n        <div data-input=\\\"\".concat(name, \"\\\">\\n          <label>\\n            \").concat(input.label, \"\\n            \").concat(inputHTML, \"\\n          </label>\\n        </div>\\n      \");\n    });\n    var i18n = getDictionary(\"editor.inputDialog\");\n    if (this.legacyDesign) {\n      this.element.innerHTML = \"\\n        <div>\\n          <form>\\n            \".concat(inputsHTML, \"\\n            <input type=\\\"submit\\\" hidden>\\n          </form>\\n        </div>\\n        <div class=\\\"row columns\\\">\\n          <div class=\\\"text-center\\\">\\n            <button type=\\\"button\\\" class=\\\"button mr-xs mb-none\\\" data-action=\\\"save\\\">\").concat(i18n[\"buttons.save\"], \"</button>\\n            <button type=\\\"button\\\" class=\\\"button clear mb-none\\\" data-action=\\\"cancel\\\">\").concat(i18n[\"buttons.cancel\"], \"</button>\\n          </div>\\n        </div>\\n      \");\n      document.body.appendChild(this.element);\n      $(this.element).foundation();\n\n      // Foundation needs jQuery\n      $(this.element).on(\"open.zf.reveal\", function () {\n        setTimeout(function () {\n          return _this.focusFirstInput();\n        }, 0);\n      });\n      $(this.element).on(\"closed.zf.reveal\", function () {\n        setTimeout(function () {\n          return _this.handleClose();\n        }, 0);\n      });\n    } else {\n      var uniq = this.element.dataset.dialog;\n      this.element.innerHTML = \"\\n        <div id=\\\"\".concat(uniq, \"-content\\\">\\n          <button type=\\\"button\\\" data-dialog-close=\\\"\").concat(uniq, \"\\\" data-dialog-closable=\\\"\\\" aria-label=\\\"\").concat(i18n.close, \"\\\">&times</button>\\n          <div data-dialog-container>\\n            <form>\\n              <div class=\\\"form__wrapper\\\">\\n                \").concat(inputsHTML, \"\\n              </div>\\n              <input type=\\\"submit\\\" hidden>\\n            </form>\\n          </div>\\n          <div data-dialog-actions>\\n            <button type=\\\"button\\\" class=\\\"button button__sm md:button__lg button__transparent-secondary\\\" data-action=\\\"cancel\\\">\").concat(i18n[\"buttons.cancel\"], \"</button>\\n            <button type=\\\"button\\\" class=\\\"button button__sm md:button__lg button__secondary\\\" data-action=\\\"save\\\">\").concat(i18n[\"buttons.save\"], \"</button>\\n          </div>\\n        </div>\\n      \");\n      document.body.appendChild(this.element);\n      this.dialog = new Dialog(\"[data-dialog=\\\"\".concat(uniq, \"\\\"]\"), {\n        // openingSelector: `[data-dialog-open=\"${uniq}\"]`,\n        closingSelector: \"[data-dialog-close=\\\"\".concat(uniq, \"\\\"]\"),\n        backdropSelector: \"[data-dialog=\\\"\".concat(uniq, \"\\\"]\"),\n        enableAutoFocus: false,\n        onOpen: function onOpen() {\n          setTimeout(function () {\n            return _this.focusFirstInput();\n          }, 0);\n        },\n        onClose: function onClose() {\n          setTimeout(function () {\n            return _this.handleClose();\n          }, 0);\n        }\n      });\n    }\n    this.element.querySelector(\"form\").addEventListener(\"submit\", function (ev) {\n      ev.preventDefault();\n      var btn = _this.element.querySelector(\"button[data-action='save']\");\n      btn.dispatchEvent(new Event(\"click\"));\n    });\n    this.element.querySelectorAll(\"button[data-action]\").forEach(function (button) {\n      button.addEventListener(\"click\", function (ev) {\n        ev.preventDefault();\n        _this.action = button.dataset.action;\n        _this.close();\n      });\n    });\n  }\n  _createClass(InputDialog, [{\n    key: \"toggle\",\n    value: function toggle() {\n      var _this2 = this;\n      var currentValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return new Promise(function (resolve) {\n        _this2.element.querySelectorAll(\"[data-input]\").forEach(function (wrapper) {\n          var input = wrapper.querySelector(\"input, select\");\n          var currentValue = currentValues[wrapper.dataset.input];\n          if (currentValue) {\n            input.value = currentValue;\n          } else {\n            input.value = \"\";\n          }\n        });\n        _this2.callback = resolve;\n        _this2.action = null;\n        _this2.editor.commands.toggleDialog(true);\n        if (_this2.legacyDesign) {\n          // Foundation needs jQuery\n          $(_this2.element).foundation(\"open\");\n        } else {\n          _this2.dialog.open();\n        }\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.legacyDesign) {\n        // Foundation needs jQuery\n        $(this.element).foundation(\"close\");\n      } else {\n        this.dialog.close();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.legacyDesign) {\n        // Foundation needs jQuery\n        $(this.element).foundation(\"_destroy\");\n        this.element.remove();\n      } else {\n        this.dialog.destroy();\n        this.element.remove();\n        Reflect.deleteProperty(this, \"dialog\");\n      }\n    }\n\n    /**\n     * This is fired when the dialog is actually closed. The `close()` method only\n     * initiates the closing of the dialog.\n     *\n     * @returns {void}\n     */\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.editor.chain().toggleDialog(false).focus(null, {\n        scrollIntoView: false\n      }).run();\n      if (this.callback) {\n        this.callback(this.action);\n        this.callback = null;\n      }\n      if (this.action) {\n        this.action = null;\n      }\n      this.destroy();\n    }\n  }, {\n    key: \"focusFirstInput\",\n    value: function focusFirstInput() {\n      var firstInput = this.element.querySelector(\"input, select\");\n      if (firstInput) {\n        firstInput.focus();\n      }\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"default\";\n      var wrapper = this.element.querySelector(\"[data-input=\\\"\".concat(key, \"\\\"]\"));\n      if (!wrapper) {\n        return null;\n      }\n      var input = wrapper.querySelector(\"input, select\");\n      if (input) {\n        return input.value;\n      }\n      return null;\n    }\n  }]);\n  return InputDialog;\n}();\nexport { InputDialog as default };","map":{"version":3,"names":["Dialog","getDictionary","uniqueId","InputDialog","editor","_ref","_this","inputs","_classCallCheck","legacyDesign","document","querySelector","inputId","element","createElement","classList","add","setAttribute","dataset","dialog","concat","Math","random","toString","slice","inputsHTML","Object","keys","forEach","name","input","inputHTML","type","optionsHTML","options","map","opt","value","label","i18n","innerHTML","body","appendChild","$","foundation","on","setTimeout","focusFirstInput","handleClose","uniq","close","closingSelector","backdropSelector","enableAutoFocus","onOpen","onClose","addEventListener","ev","preventDefault","btn","dispatchEvent","Event","querySelectorAll","button","action","_createClass","key","toggle","_this2","currentValues","arguments","length","undefined","Promise","resolve","wrapper","currentValue","callback","commands","toggleDialog","open","destroy","remove","Reflect","deleteProperty","chain","focus","scrollIntoView","run","firstInput","getValue","default"],"sources":["/home/daniele/decidim_idra-main/app/packs/src/decidim/editor/common/input_dialog.js"],"sourcesContent":["import Dialog from \"a11y-dialog-component\";\n\nimport { getDictionary } from \"src/decidim/i18n\";\nimport { uniqueId } from \"src/decidim/editor/common/helpers\";\n\nexport default class InputDialog {\n  constructor(editor, { inputs }) {\n    this.editor = editor;\n    // The legacy design should not have any elements on the page with the\n    // `data-dialog` attribute.\n    this.legacyDesign = !document.querySelector(\"[data-dialog]\");\n    const inputId = uniqueId(\"inputdialog\");\n    this.element = document.createElement(\"div\");\n    if (this.legacyDesign) {\n      this.element.classList.add(\"reveal\");\n      this.element.setAttribute(\"data-reveal\", \"\");\n    } else {\n      this.element.dataset.dialog = `${Math.random().toString(36).slice(2)}`;\n    }\n\n    let inputsHTML = \"\";\n    Object.keys(inputs).forEach((name) => {\n      const input = inputs[name];\n      let inputHTML = \"\";\n      if (input.type === \"select\") {\n        const optionsHTML = input.options.map((opt) => `<option value=\"${opt.value}\">${opt.label}</option>`)\n        inputHTML = `<select id=\"${inputId}-${name}\">${optionsHTML}</select>`;\n      } else {\n        inputHTML = `<input id=\"${inputId}-${name}\" type=\"${input.type || \"text\"}\">`;\n      }\n\n      inputsHTML += `\n        <div data-input=\"${name}\">\n          <label>\n            ${input.label}\n            ${inputHTML}\n          </label>\n        </div>\n      `;\n    });\n\n    const i18n = getDictionary(\"editor.inputDialog\");\n\n    if (this.legacyDesign) {\n      this.element.innerHTML = `\n        <div>\n          <form>\n            ${inputsHTML}\n            <input type=\"submit\" hidden>\n          </form>\n        </div>\n        <div class=\"row columns\">\n          <div class=\"text-center\">\n            <button type=\"button\" class=\"button mr-xs mb-none\" data-action=\"save\">${i18n[\"buttons.save\"]}</button>\n            <button type=\"button\" class=\"button clear mb-none\" data-action=\"cancel\">${i18n[\"buttons.cancel\"]}</button>\n          </div>\n        </div>\n      `;\n\n      document.body.appendChild(this.element);\n      $(this.element).foundation();\n\n      // Foundation needs jQuery\n      $(this.element).on(\"open.zf.reveal\", () => {\n        setTimeout(() => this.focusFirstInput(), 0);\n      });\n      $(this.element).on(\"closed.zf.reveal\", () => {\n        setTimeout(() => this.handleClose(), 0);\n      });\n    } else {\n      const uniq = this.element.dataset.dialog;\n      this.element.innerHTML = `\n        <div id=\"${uniq}-content\">\n          <button type=\"button\" data-dialog-close=\"${uniq}\" data-dialog-closable=\"\" aria-label=\"${i18n.close}\">&times</button>\n          <div data-dialog-container>\n            <form>\n              <div class=\"form__wrapper\">\n                ${inputsHTML}\n              </div>\n              <input type=\"submit\" hidden>\n            </form>\n          </div>\n          <div data-dialog-actions>\n            <button type=\"button\" class=\"button button__sm md:button__lg button__transparent-secondary\" data-action=\"cancel\">${i18n[\"buttons.cancel\"]}</button>\n            <button type=\"button\" class=\"button button__sm md:button__lg button__secondary\" data-action=\"save\">${i18n[\"buttons.save\"]}</button>\n          </div>\n        </div>\n      `;\n      document.body.appendChild(this.element);\n\n      this.dialog = new Dialog(`[data-dialog=\"${uniq}\"]`, {\n        // openingSelector: `[data-dialog-open=\"${uniq}\"]`,\n        closingSelector: `[data-dialog-close=\"${uniq}\"]`,\n        backdropSelector: `[data-dialog=\"${uniq}\"]`,\n        enableAutoFocus: false,\n        onOpen: () => {\n          setTimeout(() => this.focusFirstInput(), 0);\n        },\n        onClose: () => {\n          setTimeout(() => this.handleClose(), 0);\n        }\n      });\n    }\n\n    this.element.querySelector(\"form\").addEventListener(\"submit\", (ev) => {\n      ev.preventDefault();\n\n      const btn = this.element.querySelector(\"button[data-action='save']\");\n      btn.dispatchEvent(new Event(\"click\"));\n    });\n    this.element.querySelectorAll(\"button[data-action]\").forEach((button) => {\n      button.addEventListener(\"click\", (ev) => {\n        ev.preventDefault();\n        this.action = button.dataset.action;\n        this.close();\n      });\n    });\n  }\n\n  toggle(currentValues = {}) {\n    return new Promise((resolve) => {\n      this.element.querySelectorAll(\"[data-input]\").forEach((wrapper) => {\n        const input = wrapper.querySelector(\"input, select\");\n        const currentValue = currentValues[wrapper.dataset.input];\n        if (currentValue) {\n          input.value = currentValue;\n        } else {\n          input.value = \"\";\n        }\n      });\n\n      this.callback = resolve;\n      this.action = null;\n\n      this.editor.commands.toggleDialog(true);\n\n      if (this.legacyDesign) {\n        // Foundation needs jQuery\n        $(this.element).foundation(\"open\");\n      } else {\n        this.dialog.open();\n      }\n    })\n  }\n\n  close() {\n    if (this.legacyDesign) {\n      // Foundation needs jQuery\n      $(this.element).foundation(\"close\");\n    } else {\n      this.dialog.close();\n    }\n  }\n\n  destroy() {\n    if (this.legacyDesign) {\n      // Foundation needs jQuery\n      $(this.element).foundation(\"_destroy\");\n      this.element.remove();\n    } else {\n      this.dialog.destroy();\n      this.element.remove();\n      Reflect.deleteProperty(this, \"dialog\");\n    }\n  }\n\n  /**\n   * This is fired when the dialog is actually closed. The `close()` method only\n   * initiates the closing of the dialog.\n   *\n   * @returns {void}\n   */\n  handleClose() {\n    this.editor.chain().toggleDialog(false).focus(null, { scrollIntoView: false }).run();\n\n    if (this.callback) {\n      this.callback(this.action);\n      this.callback = null;\n    }\n    if (this.action) {\n      this.action = null;\n    }\n\n    this.destroy();\n  }\n\n  focusFirstInput() {\n    const firstInput = this.element.querySelector(\"input, select\");\n    if (firstInput) {\n      firstInput.focus();\n    }\n  }\n\n  getValue(key = \"default\") {\n    const wrapper = this.element.querySelector(`[data-input=\"${key}\"]`);\n    if (!wrapper) {\n      return null;\n    }\n\n    const input = wrapper.querySelector(\"input, select\");\n    if (input) {\n      return input.value;\n    }\n\n    return null;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}