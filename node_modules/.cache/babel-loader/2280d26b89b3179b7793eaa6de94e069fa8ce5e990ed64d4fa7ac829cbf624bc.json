{"ast":null,"code":"import { Extension } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"prosemirror-state\";\nexport default Extension.create({\n  name: \"dialog\",\n  addStorage: function addStorage() {\n    return {\n      open: false\n    };\n  },\n  addCommands: function addCommands() {\n    var _this = this;\n    return {\n      isDialogOpen: function isDialogOpen() {\n        return function () {\n          return _this.storage.open;\n        };\n      },\n      toggleDialog: function toggleDialog(open) {\n        return function () {\n          return _this.storage.open = open;\n        };\n      }\n    };\n  },\n  addProseMirrorPlugins: function addProseMirrorPlugins() {\n    var _this2 = this;\n    return [new Plugin({\n      key: new PluginKey(\"editable\"),\n      props: {\n        attributes: function attributes() {\n          if (_this2.storage.open) {\n            return {\n              \"class\": \"dialog-open\"\n            };\n          }\n          return {};\n        }\n      }\n    })];\n  }\n});","map":{"version":3,"names":["Extension","Plugin","PluginKey","create","name","addStorage","open","addCommands","_this","isDialogOpen","storage","toggleDialog","addProseMirrorPlugins","_this2","key","props","attributes"],"sources":["/home/daniele/decidim_idra-main/app/packs/src/decidim/editor/extensions/dialog/index.js"],"sourcesContent":["import { Extension } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"prosemirror-state\";\n\nexport default Extension.create({\n  name: \"dialog\",\n\n  addStorage() {\n    return { open: false };\n  },\n\n  addCommands() {\n    return {\n      isDialogOpen: () => () => this.storage.open,\n      toggleDialog: (open) => () => (this.storage.open = open)\n    };\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey(\"editable\"),\n        props: {\n          attributes: () => {\n            if (this.storage.open) {\n              return { class: \"dialog-open\" };\n            }\n\n            return {};\n          }\n        }\n      })\n    ]\n  }\n});\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,cAAc;AACxC,SAASC,MAAM,EAAEC,SAAS,QAAQ,mBAAmB;AAErD,eAAeF,SAAS,CAACG,MAAM,CAAC;EAC9BC,IAAI,EAAE,QAAQ;EAEdC,UAAU,WAAAA,WAAA,EAAG;IACX,OAAO;MAAEC,IAAI,EAAE;IAAM,CAAC;EACxB,CAAC;EAEDC,WAAW,WAAAA,YAAA,EAAG;IAAA,IAAAC,KAAA;IACZ,OAAO;MACLC,YAAY,EAAE,SAAAA,aAAA;QAAA,OAAM;UAAA,OAAMD,KAAI,CAACE,OAAO,CAACJ,IAAI;QAAA;MAAA;MAC3CK,YAAY,EAAE,SAAAA,aAACL,IAAI;QAAA,OAAK;UAAA,OAAOE,KAAI,CAACE,OAAO,CAACJ,IAAI,GAAGA,IAAI;QAAA,CAAC;MAAA;IAC1D,CAAC;EACH,CAAC;EAEDM,qBAAqB,WAAAA,sBAAA,EAAG;IAAA,IAAAC,MAAA;IACtB,OAAO,CACL,IAAIZ,MAAM,CAAC;MACTa,GAAG,EAAE,IAAIZ,SAAS,CAAC,UAAU,CAAC;MAC9Ba,KAAK,EAAE;QACLC,UAAU,EAAE,SAAAA,WAAA,EAAM;UAChB,IAAIH,MAAI,CAACH,OAAO,CAACJ,IAAI,EAAE;YACrB,OAAO;cAAE,SAAO;YAAc,CAAC;UACjC;UAEA,OAAO,CAAC,CAAC;QACX;MACF;IACF,CAAC,CAAC,CACH;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}