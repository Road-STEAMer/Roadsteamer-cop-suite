{"ast":null,"code":"/* global jest */\n\nexport var createSuggestionRenderer = function createSuggestionRenderer(node) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    itemConverter = _ref.itemConverter;\n  return function () {\n    var suggestion = null;\n    var suggestionItems = null;\n    var selectCommand = null;\n    var selectedIndex = -1;\n    var currentEditor = null;\n    var currentRange = null;\n    var convertItem = function convertItem(item) {\n      var finalItem = item;\n      if (itemConverter) {\n        finalItem = itemConverter(item);\n      }\n      if (finalItem instanceof Object) {\n        return finalItem;\n      }\n      return {\n        label: finalItem\n      };\n    };\n    var updateSelectedItem = function updateSelectedItem(direction) {\n      var count = 0;\n      suggestion.querySelectorAll(\".editor-suggestions-item\").forEach(function (item, idx) {\n        if (item.dataset.selected === \"true\") {\n          selectedIndex = idx;\n        }\n        item.removeAttribute(\"data-selected\");\n        count += 1;\n      });\n      if (direction === \"up\") {\n        selectedIndex -= 1;\n      } else {\n        selectedIndex += 1;\n      }\n      if (selectedIndex < 0) {\n        selectedIndex = 0;\n      } else if (selectedIndex === count) {\n        selectedIndex -= 1;\n      }\n      if (selectedIndex > -1) {\n        var item = suggestion.querySelector(\".editor-suggestions-item[data-index=\\\"\".concat(selectedIndex, \"\\\"]\"));\n        if (item) {\n          item.dataset.selected = \"true\";\n        }\n      }\n    };\n    var selectItem = function selectItem(idx) {\n      var items = suggestionItems;\n      var command = selectCommand;\n      if (currentRange && typeof jest === \"undefined\") {\n        // Fixes an issue that after selecting the item, the written text will be\n        // placed after the newly added suggestion.\n        //\n        // NOTE: With JSDom/Jest this does not work even if we add a delay after\n        // changing the text in the selection. This is because the range remains\n        // the same for the `command` below which is why the underlying code is\n        // trying to do an insertion at a position that is out of range after we\n        // have already deleted the content.\n        currentEditor.chain().focus().setTextSelection(currentRange).command(function (_ref2) {\n          var tr = _ref2.tr,\n            dispatch = _ref2.dispatch;\n          if (dispatch) {\n            tr.replaceSelectionWith(currentEditor.schema.text(\"  \"));\n          }\n          return true;\n        }).setTextSelection({\n          from: currentRange.from,\n          to: currentRange.from\n        }).run();\n      }\n      command(convertItem(items[idx]));\n    };\n    var showSuggestions = function showSuggestions(_ref3) {\n      var items = _ref3.items,\n        clientRect = _ref3.clientRect;\n      var rect = clientRect();\n      Object.assign(suggestion.style, {\n        position: \"absolute\",\n        top: \"\".concat(document.documentElement.scrollTop + rect.top + rect.height, \"px\"),\n        left: \"\".concat(rect.left, \"px\")\n      });\n      suggestion.classList.remove(\"hidden\", \"hide\");\n      suggestion.innerHTML = \"\";\n      items.forEach(function (rawItem, idx) {\n        var _convertItem = convertItem(rawItem),\n          label = _convertItem.label,\n          id = _convertItem.id;\n        var suggestionItem = document.createElement(\"button\");\n        suggestionItem.type = \"button\";\n        suggestionItem.classList.add(\"editor-suggestions-item\");\n        if (id) {\n          suggestionItem.dataset.id = id;\n        }\n        suggestionItem.dataset.index = idx;\n        suggestionItem.dataset.value = label;\n        if (idx === 0) {\n          selectedIndex = idx;\n          suggestionItem.dataset.selected = \"true\";\n        }\n        suggestionItem.textContent = label;\n        suggestion.append(suggestionItem);\n        suggestionItem.addEventListener(\"click\", function () {\n          return selectItem(idx);\n        });\n      });\n    };\n    return {\n      onStart: function onStart(_ref4) {\n        var editor = _ref4.editor,\n          items = _ref4.items,\n          clientRect = _ref4.clientRect,\n          command = _ref4.command;\n        currentEditor = editor;\n        suggestionItems = items;\n        selectCommand = command;\n        suggestion = document.createElement(\"div\");\n        document.body.append(suggestion);\n        suggestion.classList.add(\"editor-suggestions\", \"hidden\", \"hide\");\n        if (items.length > 0) {\n          showSuggestions({\n            clientRect: clientRect,\n            items: items\n          });\n        }\n      },\n      onUpdate: function onUpdate(_ref5) {\n        var clientRect = _ref5.clientRect,\n          items = _ref5.items;\n        if (!clientRect || !suggestion) {\n          return;\n        }\n        suggestionItems = items;\n        if (items.length > 0) {\n          showSuggestions({\n            clientRect: clientRect,\n            items: items\n          });\n        } else {\n          suggestion.classList.add(\"editor-suggestions\", \"hidden\", \"hide\");\n        }\n      },\n      onKeyDown: function onKeyDown(_ref6) {\n        var event = _ref6.event,\n          range = _ref6.range;\n        currentRange = range;\n        if (event.key === \"Escape\") {\n          suggestion.classList.add(\"hidden\", \"hide\");\n          return true;\n        } else if (event.key === \"ArrowUp\") {\n          updateSelectedItem(\"up\");\n          return true;\n        } else if (event.key === \"ArrowDown\") {\n          updateSelectedItem(\"down\");\n          return true;\n        } else if (event.key === \"Enter\") {\n          if (selectedIndex > -1) {\n            selectItem(selectedIndex);\n          }\n          selectedIndex = -1;\n          return true;\n        }\n        return false;\n      },\n      onExit: function onExit() {\n        suggestion.remove();\n        suggestion = suggestionItems = selectCommand = currentEditor = currentRange = null;\n        selectedIndex = -1;\n      }\n    };\n  };\n};\nexport var createNodeView = function createNodeView(self) {\n  return function (_ref7) {\n    var node = _ref7.node;\n    var dom = document.createElement(\"span\");\n    dom.textContent = self.options.renderLabel({\n      options: self.options,\n      node: node\n    });\n    var _node$attrs = node.attrs,\n      id = _node$attrs.id,\n      label = _node$attrs.label;\n    dom.dataset.suggestion = node.type.name;\n    if (id) {\n      dom.dataset.id = id;\n    }\n    dom.dataset.label = label;\n    return {\n      dom: dom\n    };\n  };\n};","map":{"version":3,"names":["createSuggestionRenderer","node","_ref","arguments","length","undefined","itemConverter","suggestion","suggestionItems","selectCommand","selectedIndex","currentEditor","currentRange","convertItem","item","finalItem","Object","label","updateSelectedItem","direction","count","querySelectorAll","forEach","idx","dataset","selected","removeAttribute","querySelector","concat","selectItem","items","command","jest","chain","focus","setTextSelection","_ref2","tr","dispatch","replaceSelectionWith","schema","text","from","to","run","showSuggestions","_ref3","clientRect","rect","assign","style","position","top","document","documentElement","scrollTop","height","left","classList","remove","innerHTML","rawItem","_convertItem","id","suggestionItem","createElement","type","add","index","value","textContent","append","addEventListener","onStart","_ref4","editor","body","onUpdate","_ref5","onKeyDown","_ref6","event","range","key","onExit","createNodeView","self","_ref7","dom","options","renderLabel","_node$attrs","attrs","name"],"sources":["/home/daniele/decidim_idra-main/app/packs/src/decidim/editor/common/suggestion.js"],"sourcesContent":["/* global jest */\n\nexport const createSuggestionRenderer = (node, { itemConverter } = {}) => () => {\n  let suggestion = null;\n  let suggestionItems = null;\n  let selectCommand = null;\n  let selectedIndex = -1;\n  let currentEditor = null;\n  let currentRange = null;\n\n  const convertItem = (item) => {\n    let finalItem = item;\n    if (itemConverter) {\n      finalItem = itemConverter(item);\n    }\n\n    if (finalItem instanceof Object) {\n      return finalItem;\n    }\n    return { label: finalItem };\n  }\n\n  const updateSelectedItem = (direction) => {\n    let count = 0;\n    suggestion.querySelectorAll(\".editor-suggestions-item\").forEach((item, idx) => {\n      if (item.dataset.selected === \"true\") {\n        selectedIndex = idx;\n      }\n      item.removeAttribute(\"data-selected\");\n      count += 1;\n    });\n    if (direction === \"up\") {\n      selectedIndex -= 1;\n    } else {\n      selectedIndex += 1;\n    }\n    if (selectedIndex < 0) {\n      selectedIndex = 0;\n    } else if (selectedIndex === count) {\n      selectedIndex -= 1;\n    }\n\n    if (selectedIndex > -1) {\n      const item = suggestion.querySelector(`.editor-suggestions-item[data-index=\"${selectedIndex}\"]`)\n      if (item) {\n        item.dataset.selected = \"true\";\n      }\n    }\n  };\n\n  const selectItem = (idx) => {\n    const items = suggestionItems;\n    const command = selectCommand;\n    if (currentRange && typeof jest === \"undefined\") {\n      // Fixes an issue that after selecting the item, the written text will be\n      // placed after the newly added suggestion.\n      //\n      // NOTE: With JSDom/Jest this does not work even if we add a delay after\n      // changing the text in the selection. This is because the range remains\n      // the same for the `command` below which is why the underlying code is\n      // trying to do an insertion at a position that is out of range after we\n      // have already deleted the content.\n      currentEditor.chain().focus().setTextSelection(currentRange).command(({ tr, dispatch }) => {\n        if (dispatch) {\n          tr.replaceSelectionWith(currentEditor.schema.text(\"  \"));\n        }\n\n        return true;\n      }).setTextSelection({ from: currentRange.from, to: currentRange.from }).run();\n    }\n    command(convertItem(items[idx]));\n  };\n\n  const showSuggestions = ({ items, clientRect }) => {\n    const rect = clientRect();\n    Object.assign(suggestion.style, {\n      position: \"absolute\",\n      top: `${document.documentElement.scrollTop + rect.top + rect.height}px`,\n      left: `${rect.left}px`\n    });\n\n    suggestion.classList.remove(\"hidden\", \"hide\");\n    suggestion.innerHTML = \"\";\n    items.forEach((rawItem, idx) => {\n      const { label, id } = convertItem(rawItem);\n      const suggestionItem = document.createElement(\"button\");\n      suggestionItem.type = \"button\";\n      suggestionItem.classList.add(\"editor-suggestions-item\");\n      if (id) {\n        suggestionItem.dataset.id = id;\n      }\n      suggestionItem.dataset.index = idx;\n      suggestionItem.dataset.value = label;\n      if (idx === 0) {\n        selectedIndex = idx;\n        suggestionItem.dataset.selected = \"true\";\n      }\n      suggestionItem.textContent = label;\n      suggestion.append(suggestionItem);\n\n      suggestionItem.addEventListener(\"click\", () => selectItem(idx));\n    });\n  }\n\n  return {\n    onStart({ editor, items, clientRect, command }) {\n      currentEditor = editor;\n      suggestionItems = items;\n      selectCommand = command;\n      suggestion = document.createElement(\"div\");\n      document.body.append(suggestion);\n      suggestion.classList.add(\"editor-suggestions\", \"hidden\", \"hide\");\n\n      if (items.length > 0) {\n        showSuggestions({ clientRect, items });\n      }\n    },\n\n    onUpdate({ clientRect, items }) {\n      if (!clientRect || !suggestion) {\n        return;\n      }\n\n      suggestionItems = items;\n\n      if (items.length > 0) {\n        showSuggestions({ clientRect, items });\n      } else {\n        suggestion.classList.add(\"editor-suggestions\", \"hidden\", \"hide\");\n      }\n    },\n\n    onKeyDown({ event, range }) {\n      currentRange = range;\n\n      if (event.key === \"Escape\") {\n        suggestion.classList.add(\"hidden\", \"hide\");\n        return true;\n      } else if (event.key === \"ArrowUp\") {\n        updateSelectedItem(\"up\");\n        return true;\n      } else if (event.key === \"ArrowDown\") {\n        updateSelectedItem(\"down\");\n        return true;\n      } else if (event.key === \"Enter\") {\n        if (selectedIndex > -1) {\n          selectItem(selectedIndex);\n        }\n        selectedIndex = -1;\n        return true;\n      }\n\n      return false;\n    },\n\n    onExit() {\n      suggestion.remove();\n\n      suggestion = suggestionItems = selectCommand = currentEditor = currentRange = null;\n      selectedIndex = -1;\n    }\n  }\n};\n\nexport const createNodeView = (self) => {\n  return ({ node }) => {\n    const dom = document.createElement(\"span\");\n    dom.textContent = self.options.renderLabel({ options: self.options, node });\n\n    const { id, label } = node.attrs;\n    dom.dataset.suggestion = node.type.name;\n    if (id) {\n      dom.dataset.id = id;\n    }\n    dom.dataset.label = label;\n\n    return { dom };\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}