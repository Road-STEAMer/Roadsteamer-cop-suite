{"ast":null,"code":"function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return _assertThisInitialized(t);\n}\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && _setPrototypeOf(t, e);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\n/* eslint max-lines: [\"error\", 350] */\n\n/**\n * Quill clipboard utilities\n *\n * Copyright (c) 2017, Slab\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n * BSD 3-Clause \"New\" or \"Revised\" License\n *\n * Extends the original version from https://github.com/quilljs/quill\n * Relevant parts converted from TypeScript to JavaScript\n */\n\nimport CodeBlock from \"quill/formats/code\";\nimport { matchNewline, matchBreak, deltaEndsWith, traverse } from \"src/decidim/editor/clipboard_utilities\";\nvar Delta = Quill[\"import\"](\"delta\");\nvar Clipboard = Quill[\"import\"](\"modules/clipboard\");\n\n/**\n * Pasting bold text is broken in Quill as described at:\n * https://github.com/quilljs/quill/issues/306\n *\n * The reason is that the `<strong>` nodes are not recognized as bold types.\n * This override fixes the issue by introducing parts of the newer Quill code\n * at GitHub and defining the `<strong>` tags as bold tags.\n */\nvar ClipboardOverride = /*#__PURE__*/function (_Clipboard) {\n  function ClipboardOverride(quill, options) {\n    var _this;\n    _classCallCheck(this, ClipboardOverride);\n    _this = _callSuper(this, ClipboardOverride, [quill, options]);\n    _this.overrideMatcher(\"b\", \"b, strong\");\n    _this.overrideMatcher(\"br\", \"br\", matchBreak);\n\n    // Change the matchNewLine matchers to the newer version\n    _this.matchers[1][1] = matchNewline;\n    _this.matchers[3][1] = matchNewline;\n\n    // Remove `matchSpacing` as that is also removed in the newer versions.\n    _this.removeMatcher(Node.ELEMENT_NODE, \"matchSpacing\");\n    return _this;\n  }\n  _inherits(ClipboardOverride, _Clipboard);\n  return _createClass(ClipboardOverride, [{\n    key: \"overrideMatcher\",\n    value: function overrideMatcher(originalSelector, newSelector) {\n      var newMatcher = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var idx = this.matchers.findIndex(function (item) {\n        return item[0] === originalSelector;\n      });\n      if (idx >= 0) {\n        this.matchers[idx][0] = newSelector;\n        if (newMatcher) {\n          this.matchers[idx][1] = newMatcher;\n        }\n      }\n    }\n  }, {\n    key: \"removeMatcher\",\n    value: function removeMatcher(selector, matcherName) {\n      var idx = this.matchers.findIndex(function (item) {\n        return item[0] === selector && item[1].name === matcherName;\n      });\n      if (idx >= 0) {\n        this.matchers.splice(idx, 1);\n      }\n    }\n  }, {\n    key: \"onPaste\",\n    value: function onPaste(ev) {\n      if (ev.defaultPrevented || !this.quill.isEnabled()) {\n        return;\n      }\n      ev.preventDefault();\n      var range = this.quill.getSelection(true);\n      if (range === null) {\n        return;\n      }\n      var html = ev.clipboardData.getData(\"text/html\");\n      var text = ev.clipboardData.getData(\"text/plain\");\n      var files = Array.from(ev.clipboardData.files || []);\n      if (!html && files.length > 0) {\n        this.quill.uploader.upload(range, files);\n        return;\n      }\n      if (html && files.length > 0) {\n        var doc = new DOMParser().parseFromString(html, \"text/html\");\n        if (doc.body.childElementCount === 1 && doc.body.firstElementChild.tagName === \"IMG\") {\n          this.quill.uploader.upload(range, files);\n          return;\n        }\n      }\n      this.onPasteRange(range, {\n        html: html,\n        text: text\n      });\n    }\n  }, {\n    key: \"onPasteRange\",\n    value: function onPasteRange(range, _ref) {\n      var text = _ref.text,\n        html = _ref.html;\n      var formats = this.quill.getFormat(range.index);\n      var pastedDelta = this.convertPaste({\n        text: text,\n        html: html\n      }, formats);\n      // debug.log('onPaste\", pastedDelta, { text, html });\n      var delta = new Delta().retain(range.index)[\"delete\"](range.length).concat(pastedDelta);\n      this.quill.updateContents(delta, Quill.sources.USER);\n      // range.length contributes to delta.length()\n      this.quill.setSelection(delta.length() - range.length, Quill.sources.SILENT);\n      this.quill.scrollIntoView();\n    }\n  }, {\n    key: \"convertPaste\",\n    value: function convertPaste(_ref2) {\n      var html = _ref2.html,\n        text = _ref2.text;\n      var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (formats[CodeBlock.blotName]) {\n        return new Delta().insert(text, _defineProperty({}, CodeBlock.blotName, formats[CodeBlock.blotName]));\n      }\n      if (!html) {\n        return new Delta().insert(text || \"\");\n      }\n      var delta = this.convertPasteHTML(html);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, \"\\n\") && (delta.ops[delta.ops.length - 1].attributes === null || formats.table)) {\n        return delta.compose(new Delta().retain(delta.length() - 1)[\"delete\"](1));\n      }\n      return delta;\n    }\n  }, {\n    key: \"convertPasteHTML\",\n    value: function convertPasteHTML(html) {\n      var doc = new DOMParser().parseFromString(html, \"text/html\");\n      var container = doc.body;\n      var nodeMatches = new WeakMap();\n      var _this$prepareMatching = this.prepareMatching(container, nodeMatches),\n        _this$prepareMatching2 = _slicedToArray(_this$prepareMatching, 2),\n        elementMatchers = _this$prepareMatching2[0],\n        textMatchers = _this$prepareMatching2[1];\n      return traverse(this.quill.scroll, container, elementMatchers, textMatchers, nodeMatches);\n    }\n  }]);\n}(Clipboard); // Disable warning messages from overwritting modules\nexport { ClipboardOverride as default };\nQuill.debug(\"error\");\nQuill.register({\n  \"modules/clipboard\": ClipboardOverride\n}, true);","map":{"version":3,"names":["CodeBlock","matchNewline","matchBreak","deltaEndsWith","traverse","Delta","Quill","Clipboard","ClipboardOverride","_Clipboard","quill","options","_this","_classCallCheck","_callSuper","overrideMatcher","matchers","removeMatcher","Node","ELEMENT_NODE","_inherits","_createClass","key","value","originalSelector","newSelector","newMatcher","arguments","length","undefined","idx","findIndex","item","selector","matcherName","name","splice","onPaste","ev","defaultPrevented","isEnabled","preventDefault","range","getSelection","html","clipboardData","getData","text","files","Array","from","uploader","upload","doc","DOMParser","parseFromString","body","childElementCount","firstElementChild","tagName","onPasteRange","_ref","formats","getFormat","index","pastedDelta","convertPaste","delta","retain","concat","updateContents","sources","USER","setSelection","SILENT","scrollIntoView","_ref2","blotName","insert","_defineProperty","convertPasteHTML","ops","attributes","table","compose","container","nodeMatches","WeakMap","_this$prepareMatching","prepareMatching","_this$prepareMatching2","_slicedToArray","elementMatchers","textMatchers","scroll","default","debug","register"],"sources":["/home/daniele/decidim_idra/app/packs/src/decidim/editor/clipboard_override.js"],"sourcesContent":["/* eslint max-lines: [\"error\", 350] */\n\n/**\n * Quill clipboard utilities\n *\n * Copyright (c) 2017, Slab\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n * BSD 3-Clause \"New\" or \"Revised\" License\n *\n * Extends the original version from https://github.com/quilljs/quill\n * Relevant parts converted from TypeScript to JavaScript\n */\n\nimport CodeBlock from \"quill/formats/code\";\nimport { matchNewline, matchBreak, deltaEndsWith, traverse } from \"src/decidim/editor/clipboard_utilities\";\n\nconst Delta = Quill.import(\"delta\");\nconst Clipboard = Quill.import(\"modules/clipboard\");\n\n/**\n * Pasting bold text is broken in Quill as described at:\n * https://github.com/quilljs/quill/issues/306\n *\n * The reason is that the `<strong>` nodes are not recognized as bold types.\n * This override fixes the issue by introducing parts of the newer Quill code\n * at GitHub and defining the `<strong>` tags as bold tags.\n */\nexport default class ClipboardOverride extends Clipboard {\n  constructor(quill, options) {\n    super(quill, options);\n    this.overrideMatcher(\"b\", \"b, strong\");\n    this.overrideMatcher(\"br\", \"br\", matchBreak);\n\n    // Change the matchNewLine matchers to the newer version\n    this.matchers[1][1] = matchNewline;\n    this.matchers[3][1] = matchNewline;\n\n    // Remove `matchSpacing` as that is also removed in the newer versions.\n    this.removeMatcher(Node.ELEMENT_NODE, \"matchSpacing\");\n  }\n\n  overrideMatcher(originalSelector, newSelector, newMatcher = null) {\n    const idx = this.matchers.findIndex((item) => item[0] === originalSelector);\n    if (idx >= 0) {\n      this.matchers[idx][0] = newSelector;\n      if (newMatcher) {\n        this.matchers[idx][1] = newMatcher;\n      }\n    }\n  }\n\n  removeMatcher(selector, matcherName) {\n    const idx = this.matchers.findIndex((item) => item[0] === selector && item[1].name === matcherName);\n    if (idx >= 0) {\n      this.matchers.splice(idx, 1);\n    }\n  }\n\n  onPaste(ev) {\n    if (ev.defaultPrevented || !this.quill.isEnabled()) {\n      return;\n    }\n    ev.preventDefault();\n    const range = this.quill.getSelection(true);\n    if (range === null) {\n      return;\n    }\n    const html = ev.clipboardData.getData(\"text/html\");\n    const text = ev.clipboardData.getData(\"text/plain\");\n    const files = Array.from(ev.clipboardData.files || []);\n    if (!html && files.length > 0) {\n      this.quill.uploader.upload(range, files);\n      return;\n    }\n    if (html && files.length > 0) {\n      const doc = new DOMParser().parseFromString(html, \"text/html\");\n      if (\n        doc.body.childElementCount === 1 &&\n        doc.body.firstElementChild.tagName === \"IMG\"\n      ) {\n        this.quill.uploader.upload(range, files);\n        return;\n      }\n    }\n    this.onPasteRange(range, { html, text });\n  }\n\n  onPasteRange(range, { text, html }) {\n    const formats = this.quill.getFormat(range.index);\n    const pastedDelta = this.convertPaste({ text, html }, formats);\n    // debug.log('onPaste\", pastedDelta, { text, html });\n    const delta = new Delta().retain(range.index).delete(range.length).concat(pastedDelta);\n    this.quill.updateContents(delta, Quill.sources.USER);\n    // range.length contributes to delta.length()\n    this.quill.setSelection(\n      delta.length() - range.length,\n      Quill.sources.SILENT,\n    );\n    this.quill.scrollIntoView();\n  }\n\n  convertPaste({ html, text }, formats = {}) {\n    if (formats[CodeBlock.blotName]) {\n      return new Delta().insert(text, {\n        [CodeBlock.blotName]: formats[CodeBlock.blotName]\n      });\n    }\n    if (!html) {\n      return new Delta().insert(text || \"\");\n    }\n    const delta = this.convertPasteHTML(html);\n    // Remove trailing newline\n    if (\n      deltaEndsWith(delta, \"\\n\") &&\n      (delta.ops[delta.ops.length - 1].attributes === null || formats.table)\n    ) {\n      return delta.compose(new Delta().retain(delta.length() - 1).delete(1));\n    }\n    return delta;\n  }\n\n  convertPasteHTML(html) {\n    const doc = new DOMParser().parseFromString(html, \"text/html\");\n    const container = doc.body;\n    const nodeMatches = new WeakMap();\n    const [elementMatchers, textMatchers] = this.prepareMatching(\n      container,\n      nodeMatches\n    );\n    return traverse(\n      this.quill.scroll,\n      container,\n      elementMatchers,\n      textMatchers,\n      nodeMatches\n    );\n  }\n}\n\n// Disable warning messages from overwritting modules\nQuill.debug(\"error\");\nQuill.register({\"modules/clipboard\": ClipboardOverride}, true);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}